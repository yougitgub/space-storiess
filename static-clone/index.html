<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Space Stories — Static Clone</title>
    <link rel="stylesheet" href="assets/styles.css">
  </head>
  <body>
    <canvas id="spaceCanvas" class="space-canvas"></canvas>
    <header class="nav glass">
      <div class="container">
        <h1 class="brand">Space Stories</h1>
        <nav class="nav-links">
          <a href="stories.html">Stories</a>
        </nav>
      </div>
    </header>

    <main class="hero">
      <div class="hero-inner">
        <h2>Welcome to Space Stories</h2>
        <p>Short static clone of the site: a simple landing page and a stories list built with plain HTML/CSS/JS.</p>
        <a class="btn" href="stories.html">Read Stories</a>
      </div>
    </main>

    <footer class="site-footer">
      <div class="container">© Space Stories — Static clone</div>
    </footer>

    <script>
    // Inline script: mini-orbit, starfield, and mobile menu
    (function(){
      // Add a tiny hover effect for cards
      document.querySelectorAll('.card').forEach(card => {
        card.addEventListener('mouseenter', () => card.classList.add('hover'));
        card.addEventListener('mouseleave', () => card.classList.remove('hover'));
      });

      // Simple animated planets (rotate the mini-orbit planet)
      const planets = document.querySelectorAll('.mini-orbit .planet');
      let rot = 0;
      function tick(){
        rot += 0.6;
        planets.forEach((p, i) => {
          p.style.transform = `translateX(${Math.sin((rot+i*10)/20)*6}px)`;
        });
        requestAnimationFrame(tick);
      }
      tick();

      // Canvas starfield (lightweight)
      (function initStarfield(){
        let canvas = document.getElementById('spaceCanvas');
        if (!canvas) {
          canvas = document.createElement('canvas');
          canvas.id = 'spaceCanvas';
          canvas.className = 'space-canvas';
          document.body.insertBefore(canvas, document.body.firstChild);
        }
        const ctx = canvas.getContext('2d');
        let w = canvas.width = window.innerWidth;
        let h = canvas.height = window.innerHeight;

        const stars = [];
        const STAR_COUNT = Math.floor((w*h)/6000); // adapt count to screen
        for (let i=0;i<STAR_COUNT;i++){
          stars.push({
            x: Math.random()*w,
            y: Math.random()*h,
            z: Math.random()*1,
            r: Math.random()*1.2 + 0.3,
            vx: (Math.random()-0.5)*0.1,
          });
        }

        function resize(){
          w = canvas.width = window.innerWidth;
          h = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);

        function draw(){
          ctx.clearRect(0,0,w,h);
          for (let s of stars){
            s.x += s.vx;
            s.y += (s.z*0.2);
            if (s.x < -10) s.x = w+10;
            if (s.x > w+10) s.x = -10;
            if (s.y > h+10) s.y = -10;

            const alpha = 0.6 + 0.4 * s.z;
            ctx.beginPath();
            ctx.fillStyle = `rgba(255,255,255,${alpha})`;
            ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
            ctx.fill();
          }

          requestAnimationFrame(draw);
        }

        draw();
      })();

      // Mobile menu: create a simple toggle that clones .nav-links
      (function initMobileMenu(){
        const header = document.querySelector('header.nav .container');
        if(!header) return;
        const navRoot = document.querySelector('header.nav');
        // create button
        const btn = document.createElement('button');
        btn.className = 'mobile-menu-toggle';
        btn.setAttribute('aria-label','Menu');
        btn.innerHTML = '&#9776;';
        btn.style = 'background:none;border:none;color:var(--accent);font-size:22px;padding:6px;';
        header.appendChild(btn);

        const mobile = document.createElement('div');
        mobile.className = 'mobile-menu glass';
        mobile.style = 'position:absolute;top:62px;right:12px;padding:8px;border-radius:12px;display:none;min-width:160px;';
        const links = document.querySelectorAll('.nav-links a');
        links.forEach(a => {
          const l = document.createElement('a');
          l.href = a.getAttribute('href');
          l.textContent = a.textContent;
          l.style = 'display:block;padding:8px;color:var(--accent);text-decoration:none';
          mobile.appendChild(l);
        });
        navRoot.appendChild(mobile);
        btn.addEventListener('click', ()=> {
          mobile.style.display = mobile.style.display === 'block' ? 'none' : 'block';
        });
        document.addEventListener('click', (e)=> {
          if(!navRoot.contains(e.target) && !mobile.contains(e.target) && e.target !== btn) {
            mobile.style.display='none';
          }
        });
      })();
    })();
    </script>
  </body>
</html>
